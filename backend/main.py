from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
from typing import List, Dict, Any

app = FastAPI(title="ITNAV Recruit API")

# CORS middleware
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

# Mock data
home_data = {
    "mission": {
        "title": "ITNAV MISSION",
        "subtitle": "ITで生きる、はじまりの場をつくる"
    },
    "message": {
        "title": "MESSAGE",
        "content": "イトナブは地方都市部で潜在的能力があるにも関わらず、その能力を開花できていない若者に、プログラミング教育を通じて「自ら学び」「コミュニケーションをとる」能力を養い、「挑戦する力」を身に付け、地方都市からでも世界で活躍できる若者を育て、未来の日本を活気づけることを狙っております。",
        "link": "イトナブって"
    },
    "interview": {
        "title": "INTERVIEW",
        "members": [
            {
                "id": "1",
                "name": "RenRen",
                "nameJapanese": "れんれん",
                "title": "「影響を受けるかは受け手次第」",
                "joinYear": "2020年入社",
                "image": "/renren.png"
            },
            {
                "id": "2",
                "name": "gaku",
                "nameJapanese": "ガク",
                "title": "誰もが自由に意見や言いたいことを言える職場",
                "joinYear": "2020年入社",
                "image": "/gaku.png"
            },
            {
                "id": "3",
                "name": "Kubo Shoya",
                "nameJapanese": "久保 昇也",
                "title": "1人1人の未来と会社の未来を照らし合わせる",
                "joinYear": "2018年入社",
                "image": "/shoya_kubo.png"
            }
        ]
    },
    "goodPoints": {
        "title": "GOOD POINT",
        "points": [
            {
                "id": "1",
                "text": "勉強会などのサポートをしてくれる",
                "icon": "book"
            },
            {
                "id": "2",
                "text": "興味がある、チャレンジする人が多い",
                "icon": "star"
            },
            {
                "id": "3",
                "text": "社内イベントがたくさんある",
                "icon": "calendar"
            },
            {
                "id": "4",
                "text": "他の企業の方と出会う機会が多い",
                "icon": "users"
            }
        ]
    }
}

members_data = [
    {
        "id": "1",
        "name": "RenRen",
        "nameJapanese": "れんれん",
        "title": "「影響を受けるかは受け手次第」",
        "joinYear": "2020年入社",
        "image": "/renren.png",
        "questions": [
            {
                "id": "q1",
                "question": "イトナブの第一印象は？",
                "answer": "好きなことをしている人たちが集まっている、楽しそう！というのが最初の印象でした。\nイトナブに出会った当時小学生だった私の、「会社」というイメージが変わったのもこのときかもしれません。"
            },
            {
                "id": "q2",
                "question": "イトナブの自由だと感じるところ",
                "answer": "自由とは少し違うかもしれませんが、メンバーそれぞれが個性を持って、それを大切にしているなと思います。\nみんなが個性を持っていることによって、自分も個性を持ちやすい、そんな環境なんだと思います。"
            },
            {
                "id": "q3",
                "question": "最近挑戦したことは？",
                "answer": "自分のウェブサイトを常にアップデートしているのですが、それを新しい技術を使ったものに置き換えました。\n一度理解しながら作ったものを別の技術に移植することは、すこし寂しくもありますが、とても勉強になります。"
            },
            {
                "id": "q4",
                "question": "学生時代と変わった価値観は？",
                "answer": "イトナブには入る前は、影響を与えるような人になろうとばかり思っていましたが、「影響を受けるかは受け手次第」ということにあるとき気づきました。\n私自身も勝手に影響を受けていました。\n\nいつかの自分のように影響を受けるような人がいるかもしれない、かっこいいことをしているような人でありたいと思っています。"
            }
        ]
    },
    {
        "id": "2",
        "name": "gaku",
        "nameJapanese": "ガク",
        "title": "誰もが自由に意見や言いたいことを言える職場",
        "joinYear": "2020年入社",
        "image": "/gaku.png",
        "questions": [
            {
                "id": "q1",
                "question": "イトナブの第一印象は？",
                "answer": "すごく楽しそうにのびのびと仕事をしている印象でした。\nそれが行きすぎていて、よくこれで会社が成り立ってるなと思ってしまいました。いざ入社し一緒に仕事してみると一人一人がしっかりと役割を担っていて、お互いに足りない部分を補いながらうまく仕事を回していると感じ、自分も早くこのメンバーと一緒にエンジニアとして成長したいと思いました。"
            },
            {
                "id": "q2",
                "question": "イトナブの自由だと感じるところ",
                "answer": "上司や先輩といった存在はありつつもフラットで、誰もが自由に意見や言いたいことを言える職場であること。\nそしてエンジニアという仕事の特徴である時間や場所にとらわれない働き方もできるところが自由だと思いました。"
            },
            {
                "id": "q3",
                "question": "最近挑戦したことは？",
                "answer": "エンジニアとして少しでも成長できるようにという思いで応用情報技術者の資格取得に取り組み、無事1回目の試験で合格することができました。"
            },
            {
                "id": "q4",
                "question": "学生時代と変わった価値観は？",
                "answer": "働いて稼ぐということが多くの人が時間を対価に働いていると思いますが、エンジニアという仕事は自分の技術を提供してそれに対して報酬を得られるということを知れて働くことや仕事に対する価値観、見方がかなり変わりました。"
            }
        ]
    },
    {
        "id": "3",
        "name": "Kubo Shoya",
        "nameJapanese": "久保 昇也",
        "title": "1人1人の未来と会社の未来を照らし合わせる",
        "joinYear": "2018年入社",
        "image": "/shoya_kubo.png",
        "questions": [
            {
                "id": "q1",
                "question": "イトナブの第一印象は？",
                "answer": "初めて関わったのは大学時代でしたが、メンバーそれぞれが楽しそうに遊ぶようにして仕事をこなしている謎の集団でした。\n海外の学生がインターンに来た時には、コミュニケーションを取れるように翻訳チャットアプリを作る人が現れ、いずれそれが仕事になるなど、当時から今に至るまで様々な人の出会いと技術を通して成長してきた会社だと感じています。"
            },
            {
                "id": "q2",
                "question": "イトナブの自由だと感じるところ",
                "answer": "会社としての目指す姿において、どのような提案でも尊重しているところです。\n最近でもコロナ禍に合ったの働き方変更なども1社員から提案があり、会社の規則レベルで再考するなど柔軟に取り入れられています。\nまた、キャリアにおいても1人1人の未来と会社の未来を照らし合わせて、`適当`な人に`適当`な責任と自由も与えられています。\n今後も個人のパフォーマンスが最大化されるような会社を目指していきます。"
            },
            {
                "id": "q3",
                "question": "最近挑戦したことは？",
                "answer": "暗号資産の自動取引システムを構築しています。\n学生時代にも取り組んでいましたが、当時のコードを改めて見るととても見づらいものだったこともあり、最近改めて仕事で培った知識をもとに1から作り直しています。"
            },
            {
                "id": "q4",
                "question": "学生時代と変わった価値観は？",
                "answer": "「早く行きたければ一人で行け、遠くへ行きたければみんなで行け」\n（If you want to go fast, go alone. If you want to go far, go together.）\n\n社会経験を積むにつれて、個人の限界とチームの可能性をより感じるようになりました。\n個人のパフォーマンスが最大化されたチームはとても強く持続可能なものです。\nあなたもそのメンバーに加わりませんか？"
            }
        ]
    }
]

graduates_data = [
    {
        "id": "1",
        "name": "jog",
        "nameJapanese": "ジョグ",
        "title": "「受け取る」人から「つくり出す」人",
        "graduationYear": "2020年卒業",
        "image": "/jog.png",
        "content": "イトナブの第一印象は「この人たちは本当に大人なのか？？」でした笑\nでも入り浸るうちに、エンジニアとしての技術力の高さやクリエイティブに惹かれていきました。\n\n何かになりたいという目標もなかった自分でしたが、そんなイトナブに出会ってからの夢は「なんでも表現できるエンジニア」\nイトナブとの出会いによって、「受け取るだけ」の人から「つくり出す」人に変身！！\n自分の人生はイトナブにいい意味で「狂わされてました」\n\nそれでは石巻ハッカソンでお会いしましょう！"
    },
    {
        "id": "2",
        "name": "tomigie",
        "nameJapanese": "とみぎ",
        "title": "「開発」と「コミュニティ」",
        "graduationYear": "2018年卒業",
        "image": "/tomigie.png",
        "content": "イトナブにいた当時は、自分の興味がある事対してひたすら挑戦していた感覚ですが、今振り返ってみると大きく分けて「開発」と「コミュニティ」について色々と挑戦して学び、経験を積んで来ました。\nそれらを通して、技術面の成長はもちろん、それ以上にコミュニティ活動を通して学んだ雰囲気作りや知識をアウトプットする大切さなど、自分が大切にしたいマインドを持つことができたのが一番の成長だと感じていますし、その環境を作ってくれたイトナブには感謝しています。"
    },
    {
        "id": "3",
        "name": "fish",
        "nameJapanese": "フィッシュ",
        "title": "挑戦する機会を与えてくれる場所",
        "graduationYear": "2016年卒業",
        "image": "/fish.png",
        "content": "私が大学生のとき古山さんから声をかけていただき、イトナブのプロジェクトに参画しました。ここで参画と言っているのは、当時のイトナブはイトナブ塾のようなものはなく、学びつつ教えるというスタイルでした。具体的には、プログラミングを学びたい人向けのイベントを開催したり、各地で開催されているハッカソンと呼ばれるエンジニア向けのイベントに参加し、学んだことをイトナブへ来た人に教えるといった感じでした。私もプログラミング初心者だったので、自分が作りたいアプリを作り発表などもしていました。\n\n大学卒業後はイトナブの正社員となり、プログラミング教育やアプリ開発の業務をやっていました。入社して1年ほど経ち、自分の作りたいアプリを業務時間でやりたい作りたいと希望したり、海外で研究開発をしたいと相談したところ、古山さんは一切否定せず挑戦する機会をくれました。この経験は私の人生を大きく変えました。本当にいい経験をさせてもらったと感謝しています。\n\n否定せず挑戦する機会を与えてくれるイトナブの環境は、私を大きく成長させてくれました。一見無理だと思うような夢や挑戦も最初から否定せず、どうすれば実現できるかを考えるマインドをもつようになりました。またイトナブの活動は楽しく遊ぶといった心構えが必ず入っています。私は趣味の時間でもプログラミングに関わることを学んだり触れたりしているのですが、これができるのは「プログラミング＝楽しい」というマインドがあるからだと思います。こういったマインドは更に自分を成長する機会を与えてくれると感じています。イトナブは短期的な成長もあると思いますが、長期的な成長ができる場所だと私は思います。"
    }
]

@app.get("/")
async def root():
    return {"message": "ITNAV Recruit API is running"}

@app.get("/api/home")
async def get_home() -> Dict[str, Any]:
    return home_data

@app.get("/api/members")
async def get_members() -> List[Dict[str, Any]]:
    return members_data

@app.get("/api/graduates")
async def get_graduates() -> List[Dict[str, Any]]:
    return graduates_data

if __name__ == "__main__":
    import uvicorn
    uvicorn.run(app, host="0.0.0.0", port=8000)

